<!-- holax -->
<div style="background: #f4f4f4">
  <div class="container">
    <div class="row" style="padding: 20px 90px 20px 20px !important">
      <div class="col-12 col-md-12 col-lg-12">
        <div class="titleCronograma">Confirmación de Pago</div>
        <div class="titleCronogramaCurso">
          {{ NombreCursoPago }}
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container" *ngIf="resultProceso != undefined">
  <div class="row rowpaddAv" style="justify-content: center">
    <div
      class="col-12 col-md-10 col-lg-10"
      *ngIf="
        resultProceso.estadoOperacion == 'No Process' ||
        resultProceso.estadoOperacion == 'Declinado' ||
        resultProceso.estadoOperacion == 'Processed-' ||
        resultProceso.estadoOperacion == 'ERROR'
      "
    >
      <ng-container>
        <div class="titleResultPago">
          <img
            style="margin-right: 10px"
            src="../../../assets/icons/denegado-error-rojo.svg"
            alt=""
          />
          <div>Pago Rechazado</div>
        </div>
        <div class="textResultPago">
          <ng-container>
            <div class="container-resultado">
              <div
                *ngIf="
                  resultProceso.mensajeTransaccion != null &&
                  resultProceso.mensajeTransaccion != 'null' &&
                  resultProceso.mensajeTransaccion != ''
                "
                style="text-align: center; color: #e24c4d"
              >
                <p class="resultadoParrafo">
                  Hubo un problema al procesar tu pago.
                </p>
                <p class="resultadoParrafo">
                  <strong>Descripción:</strong>
                  {{ resultProceso.mensajeTransaccion }}
                </p>
              </div>

              <div>
                <p class="resultadoParrafo">
                  Asegurate de que tu tarjeta tenga saldo suficiente para
                  completar tu pago e intentalo nuevamente
                </p>
              </div>
            </div>
          </ng-container>
          <!-- <ng-container *ngIf="tipoRespuesta == 'AF'">
            No hemos podido procesar su afiliación, debido a un error con su
            entidad bancaria o al rechazo de la compra.
          </ng-container> -->
        </div>
      </ng-container>
      <ng-container *ngIf="resultProceso.tipoPago == 'Organico'">
        <app-default-button
          [confs]="{ color: 'primary', titulo: 'Volver' }"
          [style]="'margin-top:40px;padding: 0px 40px;'"
          [ruta]="'/AulaVirtual/PagoOrganicoTodos'"
        ></app-default-button>
      </ng-container>
      <ng-container *ngIf="resultProceso.tipoPago == 'Cronograma'">
        <div class="col-12" style="display: flex; justify-content: center">
          <app-default-button
            [confs]="{ color: 'primary', titulo: 'Ver estado de cuenta' }"
            [style]="'font-size:13px;border-radius:15px'"
            [ruta]="ruta"
          ></app-default-button>
        </div>
      </ng-container>
    </div>
    <div
      class="col-12 col-md-12 col-lg-12"
      *ngIf="resultProceso.estadoOperacion == 'Processed'"
    >
      <div
        class="titleResultPago"
        style="justify-content: center; margin-bottom: 1rem"
      >
        <img
          src="../../../assets/icons/positivo-hecho-20.svg"
          alt=""
          style="height: 2.5rem; width: 2.5rem; margin-right: 10px"
        />
        <div>¡Pago exitoso!</div>
      </div>
      <div
        class="SubTitulo"
        *ngIf="resultProceso.tipoPago == 'Organico'"
        style="
          margin-top: 5px;
          font-size: 14px;
          justify-content: center;
          display: flex;
        "
      >
        {{ resultProceso.datoAlumno.nombre }}, tu compra ha sido realizada con
        exito.
      </div>
      <!-- <div
        class="SubTitulo"
        *ngIf="resultProceso.tipoPago == 'Cronograma' && tipoRespuesta == 'AF'"
        style="
          margin-top: 5px;
          font-size: 14px;
          justify-content: center;
          display: flex;
        "
      >
        {{ resultProceso.registroAlumno.nombre }}, tu pago y afiliación a pagos
        recurrentes se ha realizado con éxito.
      </div> -->
      <div class="contentCardPago">
        <div class="row" style="justify-content: center; display: flex">
          <div class="cardPago">
            <div
              class="row"
              style="align-items: center; padding: 0px 3vw"
              *ngIf="resultProceso.tipoPago == 'Organico'"
            >
              <div class="col-6 col-md-5 col-lg-4"><b>Nro. de Compra:</b></div>
              <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                {{ resultProceso.identificadorTransaccion }}
              </div>
              <div class="col-6 col-md-5 col-lg-4"><b>Monto:</b></div>
              <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                {{ resultProceso.montoTotal | formatoMilesDecimales }}
              </div>
              <div class="col-6 col-md-5 col-lg-4"><b>Moneda:</b></div>
              <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                {{ resultProceso.monedaCorreo }}
              </div>
              <div class="col-6 col-md-5 col-lg-4">
                <b>Nombres y Apellidos:</b>
              </div>
              <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                {{ resultProceso.datoAlumno.nombre }}
                {{ resultProceso.datoAlumno.apellido }}
              </div>
              <ng-container
                *ngIf="NombreCursoPago != null && NombreCursoPago != undefined"
              >
                <div class="col-6 col-md-5 col-lg-4"><b>Programa:</b></div>
                <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                  {{ NombreCursoPago }}
                </div>
              </ng-container>
              <ng-container>
                <div class="col-6 col-md-5 col-lg-4"><b>Concepto:</b></div>
                <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                  <div>Matrícula</div>
                </div>
              </ng-container>
              <div class="col-6 col-md-5 col-lg-4">
                <b>Fecha de transacción:</b>
              </div>
              <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                {{ resultProceso.fechaTransaccion | date : "dd/MM/yyyy" }}
              </div>
              <div class="col-6 col-md-5 col-lg-4">
                <b>Hora de transacción:</b>
              </div>
              <div class="col-6 col-md-7 col-lg-8 itemValueCardPago">
                {{ resultProceso.fechaTransaccion | date : "hh:mm" }}
              </div>
            </div>
            <div
              class="row pago-exitoso-movil"
              *ngIf="resultProceso.tipoPago == 'Cronograma'"
            >
              <div class="col-6 col-md-6 col-lg-6"><b>Monto:</b></div>
              <div class="col-6 col-md-6 col-lg-6 itemValueCardPago">
                {{ resultProceso.monedaCorreo }}
                {{ resultProceso.montoTotal | formatoMilesDecimales }}
              </div>
              <ng-container
                *ngIf="
                  resultProceso.listaCuota != null &&
                  resultProceso.listaCuota.length > 0
                "
              >
                <div class="col-6 col-md-6 col-lg-6"><b>Concepto:</b></div>
                <div class="col-6 col-md-6 col-lg-6 itemValueCardPago">
                  <div *ngFor="let item of resultProceso.listaCuota; index as i">
                    <div *ngIf="tipoRespuesta != 'AF' || i == 0">
                      {{ item.nombre }}
                    </div>
                  </div>
                </div>
              </ng-container>
              <ng-container
                *ngIf="
                  resultProceso.listaCuota == null ||
                  resultProceso.listaCuota.length == 0
                "
              >
                <div class="col-12 col-md-6 col-lg-6"><b>Concepto: </b></div>
                <div class="col-12 col-md-6 col-lg-6 itemValueCardPago">
                  <div>Matrícula</div>
                </div>
              </ng-container>
              <div class="col-6 col-md-6 col-lg-6">
                <b style="text-wrap: nowrap">Código de transacción:</b>
              </div>
              <div class="col-6 col-md-6 col-lg-6 itemValueCardPago">
                {{ resultProceso.codigoHash }}
              </div>
              <div class="col-6 col-md-6 col-lg-6">
                <b style="text-wrap: nowrap">Fecha de transacción:</b>
              </div>
              <div class="col-6 col-md-6 col-lg-6 itemValueCardPago">
                {{ resultProceso.fechaTransaccion | date : "dd/MM/yyyy" }}
              </div>
              <div class="col-6 col-md-6 col-lg-6">
                <b style="text-wrap: nowrap">Hora de transacción:</b>
              </div>
              <div class="col-6 col-md-6 col-lg-6 itemValueCardPago">
                {{ resultProceso.fechaTransaccion | date : "hh:mm a" }}
              </div>
              <ng-container *ngIf="tipoRespuesta == 'AF'">
                <div class="col-6 col-md-6 col-lg-6">
                  <b style="text-wrap: nowrap">Pago recurrente:</b>
                </div>
                <div class="col-6 col-md-6 col-lg-6 itemValueCardPago">
                  Activado
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </div>

      <div
        *ngIf="RutaCargada != false"
        class="row mt-2"
        style="justify-content: center; text-align: center"
      >
        <div
          class="button-container-Pagos"
          style="display: flex; padding: 0px 3vw"
        >
          <button
            [routerLink]="ruta"
            class="btn btn-primary m-2 responsive-button-Pagos"
            style="width: 50%"
          >
            Ver estado de cuenta
          </button>
          <button
            [routerLink]="rutaCursos"
            class="btn btn-primary m-2 responsive-button-Pagos"
            style="width: 50%"
          >
            Ir a mi curso
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
