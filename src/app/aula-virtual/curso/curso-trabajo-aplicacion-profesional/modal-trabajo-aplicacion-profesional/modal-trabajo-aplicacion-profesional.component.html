<ng-container >
  <div class="cardSesionOnlineTrabajoProyecto">
    <div class="flagActividad"  style="display: flex;">
      <div class="col-11" style="display: flex;">
        <div class="textoFlag">Trabajo de aplicación profesional</div>
        <!-- <div class="trianglearrow"></div> -->
        <div id="player">
          <div id="outer">
            <div id="inner"></div>
          </div>
        </div>
      </div>
      <div class="col-1" style="text-align: end;font-weight: bold;cursor: pointer;" (click)="dialogRef.close()">
        X
      </div>
    </div>
    <!-- <div class="TitleActividad">Trabajo de aplicación para obtención de título profesional técnico</div>
    <div class="DescripcionActividad">
      Te damos la bienvenida al trabajo de aplicación profesional que te permitirá obtener el título profesional técnico en Desarrollo de Sistemas de Información.
    </div> -->
    <div class="TitleActividad">{{ProyectoAplicacionProfesional.titulo}}</div>
    <div class="DescripcionActividad">
      {{ProyectoAplicacionProfesional.descripcion}}
    </div>
    <div class="VinculoActividad" *ngIf="ProyectoAplicacionProfesional.nombreArchivo!=null && ProyectoAplicacionProfesional.nombreArchivo.length>0">
      <a [href]="ProyectoAplicacionProfesional.urlArchivoSubido" target="_blank" >{{ProyectoAplicacionProfesional.nombreArchivo}}</a></div>

  </div>
  <div class="content">
    <ng-container *ngIf="ProyectoAplicacionProfesional.archivoEnviado!=null">
      <!-- <div class="IntenTareasEnviadas"><strong>Versión:</strong>  {{ProyectoAplicacionProfesional.version}}</div> -->
        <div class="IntenTareasEnviadas"><strong>Archivo enviado:</strong>
          <div class="pdfSesionOnline"></div>
          <div>
            <a target="_blank" [href]="ProyectoAplicacionProfesional.urlArchivoEnviado">{{ProyectoAplicacionProfesional.archivoEnviado}}</a>
          </div>
        </div>
        <div class="IntenTareasEnviadas"><strong>Fecha de Envio:</strong>  {{ProyectoAplicacionProfesional.fechaEnvio | date :'dd/MM/yyyy hh:mm:ss'}}</div>
        <div class="IntenTareasEnviadas"><strong>Calificación:</strong>  {{ProyectoAplicacionProfesional.nota}}</div>
        <div class="IntenTareasEnviadas"><strong>Fecha de Calificación:</strong>  {{ProyectoAplicacionProfesional.fechaCalificacion | date :'dd/MM/yyyy hh:mm:ss'}}</div>
        <div class="IntenTareasEnviadas"><strong>Retroalimentación:</strong>  {{ProyectoAplicacionProfesional.retroalimentacion}}</div>
        <div class="IntenTareasEnviadas"><strong>Archivo de Retroalimentación:</strong>
          <ng-container *ngIf="ProyectoAplicacionProfesional.urlArchivoRetroalimentacion!=null">
            <div class="pdfSesionOnline"></div>
            <div >
              <a [href]="ProyectoAplicacionProfesional.urlArchivoRetroalimentacion" target="_blank">{{ProyectoAplicacionProfesional.nombreArchivoRetroalimentacion}}</a>
            </div>
          </ng-container>

        </div>
        <div style="background: rgb(233 233 233);width: 100%;height: 2px;
        margin-top: 20px;"></div>
    </ng-container>
    <ng-container *ngIf="ProyectoEnviado==false && ProyectoAplicacionProfesional.archivoEnviado==null">
      <div style="padding: 0px 40px;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 10px;
      margin-top: 20px;">Selecciona el archivo de tu trabajo:</div>
      <div  style="display: flex;
      padding: 0px 40px 30px;
      justify-content: space-between;">
        <div style="width: 100%;">
          <div (click)="fileInput.click()" style="height: 38px;width: 100%;border:solid 1px #c2c2c2;border-radius: 5px;display: flex; align-items: center;
          padding: 0px 5px;cursor: pointer;">
            <button style="border: solid 1px #767676;
            margin-right: 5px;    white-space: nowrap;">Seleccionar archivo</button>
            <!-- <div style="    white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;">{{nombrefile}}</div> -->
            <div style="    white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;" *ngIf="ProyectoAplicacionProfesional==undefined || ProyectoAplicacionProfesional==null || ProyectoAplicacionProfesional.archivoEnviado==null || nombrefile!=''">{{nombrefile==''?'Ningún archivo seleccionado':nombrefile}}</div>
            <a *ngIf="ProyectoAplicacionProfesional!=undefined && ProyectoAplicacionProfesional!=null && ProyectoAplicacionProfesional.archivoEnviado!=null && nombrefile==''" [href]="ProyectoAplicacionProfesional.urlArchivoEnviado" class="vinculo" style="
            color: black !important;
            text-decoration: none ;
            background: #fff7ea;
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 5px;" target="_blank"> {{ProyectoAplicacionProfesional.archivoEnviado}}</a>
          </div>
          <input #fileInput type="file" id="file" (change)="getFileDetails($event)" style="    width: 100%;
          border: solid 1px #c2c2c2;
          padding: 7px;
          border-radius: 5px;display: none;">
          <div *ngIf="!filestatus && fileErrorMsg!=''">{{fileErrorMsg}}</div>
        </div>
        <div class="col-6 col-md-4 col-lg-3" style="display: flex;align-items: center;justify-content: flex-end;    width: 180px;">
          <app-default-button [confs]="{color:'primary',titulo:'Enviar'}" [style]="'    margin: 0px; padding: 0px 40px; border-radius: 40px;'"
            [disabled]="!filestatus" (ButtoclClick)="SubirTrabajoAplicacionProfesional()"></app-default-button>
        </div>
      </div>
      <div class="row" style="margin: 0px;">
        <div class="col-12 col-md-12 col-lg-12" style="margin: 10px 0px ;">
          <div class="cabeceraExpandTarea" [ngClass]="{'cabeceraExpandTareaOpen':instruccionesSubir}">
            <div>Instrucciones para subir el trabajo</div>
            <div>
              <i class="material-icons no-seleccionable " *ngIf="!instruccionesSubir"
                (click)="instruccionesSubir=true">keyboard_arrow_down</i>
              <i class="material-icons no-seleccionable " *ngIf="instruccionesSubir"
                (click)="instruccionesSubir=false">keyboard_arrow_up</i>
            </div>
          </div>
          <div class="contentCabeceraTarea" *ngIf="instruccionesSubir">
            Estimado alumno toma lo siguiente en consideración antes de subir tu archivo
            <ul>
              <li>No nombrar tu archivo con caracteres especiales.</li>
              <li>Que el archivo tenga una capacidad máxima de 25 MB</li>
              <li>Subir el archivo en formato .pdf</li>
            </ul>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="ProyectoEnviado">
      <div class="contenidoProyectoCarreraModal">
        <div class="imgProyectoCarreraModal"></div>
        <div style="display: flex;">
          <div class="titleProyectoCarreraModal">
            ¡Excelente Trabajo!&nbsp;
          </div>
          <div style="font-size: 16px;">
            Tu trabajo ha sido enviado correctamente.
          </div>
        </div>
        <div class="textoProyectoCarreraModal">
          Te comunicaremos la fecha de sustentación de tu trabajo de aplicación profesional.
        </div>
        <app-default-button [confs]="{color:'primary',titulo:'Aceptar'}" [style]="'width: 100%;'"
        [icon]="''" [style]="'     padding: 0px 60px; border-radius: 25px;border: solid 1px #f8893f;'"
        (click)="RedirigirCalificaciones()"></app-default-button>
      </div>

    </ng-container>



  </div>
</ng-container>
