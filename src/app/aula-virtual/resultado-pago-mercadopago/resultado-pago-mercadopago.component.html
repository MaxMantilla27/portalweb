<br>
<div class="container" *ngIf="resultProceso!=undefined">
  <div class="row rowpaddAv" style="justify-content: center;">
    <div class="col-12 col-md-10 col-lg-8" *ngIf="resultProceso.estadoOperacion!='Processed'">
      <!-- <ng-container *ngIf="resultProceso.estadoOperacion=='Pending'">
        <div>
          <img [src]="'../../../assets/icons/iconcharge/'+imgAc" alt="" *ngIf="imgAc!=''">
        </div>
        <div class="titleResultPago">
          <div>Procesando pago</div>
        </div>
        <div style="margin-top: 15px;
        font-size: 15px;">
          Te agradecemos por tu paciencia, en este momento estamos procesando tu pago
        </div>
      </ng-container> -->

      <ng-container *ngIf="resultProceso.estadoOperacion=='No Process' ||resultProceso.estadoOperacion=='Error' ">
        <div class="titleResultPago">
          <img style="margin-right: 10px;"  src="../../../assets/icons/denegado-error-rojo.svg" alt="">
          <div >No se realizó el pago</div>
        </div>
        <ng-container *ngIf="resultProceso.estadoOperacion=='No Process'">
            <div class="textResultPago">
                <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_other_reason'">
                  No hemos podido procesar su pago, debido a un error general por parte de Mercado Pago.
                </ng-container>
                <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_call_for_authorize'">
                  <ng-container >
                    No hemos podido procesar su pago, debido a un rechazado de validación para autorizar.
                  </ng-container>
                </ng-container>
                <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_insufficient_amount'">
                  No hemos podido procesar su pago, debido a que no cuentas con fondos suficientes, comuniquese con
                  su Banco para solucionar el error en el pago; o intente con otro medio de pago.
                </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_bad_filled_security_code'">
                    No hemos podido procesar su pago, debido a que el código de seguridad es inválido, comuniquese con
                    su Banco para solucionar el error en el pago; o intente con otro medio de pago.
                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_bad_filled_date'">
                    No hemos podido procesar su pago, debido a un problema de fecha de vencimiento, comuniquese con
                    su Banco para solucionar el error en el pago; o intente con otro medio de pago.
                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_bad_filled_other'">
                    No hemos podido procesar su pago, debido a un error de formulario.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.

                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_bad_filled_card_number'">
                    No hemos podido procesar su pago, debido a un error con el número de tarjeta.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.

                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_blacklist'">
                    No hemos podido procesar su pago, debido a un error con la tarjeta ingrasada, consultar con su banco el motivo del rechazo.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.

                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_call_for_authorize'">
                    No hemos podido procesar su pago, debido a que la transaccion no ha sido autorizada, consultar con su banco el motivo del rechazo.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.

                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_card_disabled'">
                    No hemos podido procesar su pago, debido a que la tarjeta no esta activa, consultar con su banco el motivo del rechazo.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.

                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_card_error'">
                    No hemos podido procesar su pago, consultar con su banco el motivo del rechazo.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.

                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_duplicated_payment'">
                    No hemos podido procesar su pago, debido a que ya hiciste un pago por ese valor. Si necesitas volver a pagar usa otra tarjeta u otro medio de pago.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.
                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_high_risk'">
                    No hemos podido procesar su pago, debido a que la tarjeta ha sido rechazada, consultar con su banco el motivo del rechazo.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.
                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_invalid_installments'">
                    No hemos podido procesar su pago, debido a que la tarjeta ha sido rechazada, consultar con su banco el motivo del rechazo.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.
                  </ng-container>
                  <ng-container *ngIf="reultadoPago.status  =='rejected' && reultadoPago.statusDetail=='cc_rejected_max_attempts'">
                    No hemos podido procesar su pago, debido a que llegaste al límite de intentos permitidos. Elige otra tarjeta.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.
                  </ng-container>
                <div class="textC">Si tiene alguna consulta adicional, escriba un correo a: <a
                    href="mailto:matriculas@bsginstitute.com">matriculas@bsginstitute.com</a></div>
            </div>
        </ng-container>
        <ng-container *ngIf="resultProceso.estadoOperacion=='Error'">
            <div class="textResultPago">
                No hemos podido procesar su pago, debido a un error en nuestra plataforma de pagos.
                    <br>
                    Escríbenos a nuestro chat de soporte técnico para poder ayudarlo.

                <div class="textC">Si tiene alguna consulta adicional, escriba un correo a: <a
                    href="mailto:matriculas@bsginstitute.com">matriculas@bsginstitute.com</a></div>
            </div>
        </ng-container>

        <div class="row" >
          <div class="col-12 col-md-6 col-lg-6" style="display: flex;justify-content: center;">
            <app-default-button-flecha [confs]="{color:'primary',titulo:'Volver a Intentar'}" [style]="'margin-top:15px;padding: 0px 40px;border-radius:20px;'"
            (ButtoclClick)="RedireccionarModalIntentoPago()"></app-default-button-flecha>
          </div>
          <div class="col-12 col-md-6 col-lg-6" style="display: flex;justify-content: center;">
            <app-default-button-flecha [confs]="{color:'primary',titulo:'Salir'}" [style]="'margin-top:15px;padding: 0px 40px;border-radius:20px;'"
            [ruta]="'/'+AreaCapacitacion+'/'+ProgramaNombre"></app-default-button-flecha>
          </div>
        </div>
      </ng-container>

    </div>
    <div class="col-12 col-md-10 col-lg-8" *ngIf="resultProceso.estadoOperacion=='Processed'">
      <div class="titleResultPago" style="justify-content: center;margin-bottom: 1rem;">
        <img src="../../../assets/icons/positivo-hecho-20.svg" alt="" style="height: 2.5rem;width: 2.5rem;margin-right:10px;">
        <div>¡Pago exitoso!</div>
      </div>
      <div style="margin-top: 5px;font-size: 14px;justify-content: center;display: flex;">
        {{resultProceso.registroAlumno.nombre}}, tu compra ha sido realizada con exito.
      </div>
      <div class="contentCardPago">
        <div style="margin: 20px 0px;
        font-weight:600;">Detalle de tu pago:</div>
        <div class="cardPago">
          <div class="row" style="align-items: center;padding: 0px 5vw">
            <div class="col-12 col-md-5 col-lg-4"><b>Nro. de Compra:</b></div>
            <div class="col-12 col-md-7 col-lg-8 itemValueCardPago">{{resultProceso.identificadorTransaccion}}</div>
            <div class="col-12 col-md-5 col-lg-4"><b>Monto:</b></div>
            <div class="col-12 col-md-7 col-lg-8 itemValueCardPago">{{FormatoMilesDecimales(resultProceso.montoTotal)}}</div>
            <div class="col-12 col-md-5 col-lg-4"><b>Moneda:</b></div>
            <div class="col-12 col-md-7 col-lg-8 itemValueCardPago">{{resultProceso.monedaCorreo}}</div>
            <div class="col-12 col-md-5 col-lg-4"><b>Nombres y Apellidos:</b></div>
            <div class="col-12 col-md-7 col-lg-8 itemValueCardPago"><b>{{resultProceso.registroAlumno.nombre}}
                {{resultProceso.registroAlumno.apellido}}</b></div>
            <ng-container *ngIf="NombreCursoPago!=null && NombreCursoPago!=undefined">
              <div class="col-12 col-md-5 col-lg-4"><b>Programa:</b></div>
              <div class="col-12 col-md-7 col-lg-8 itemValueCardPago">{{NombreCursoPago}}</div>
            </ng-container>
            <ng-container *ngIf="resultProceso.listaCuota!=null && resultProceso.listaCuota.length>0">
              <div class="col-12 col-md-5 col-lg-4"><b>Concepto:</b></div>
              <div class="col-12 col-md-7 col-lg-8 itemValueCardPago" >
                <div *ngFor="let item of resultProceso.listaCuota">
                  {{item.nombre}}
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="resultProceso.listaCuota==null || resultProceso.listaCuota.length==0">
              <div class="col-12 col-md-5 col-lg-4"><b>Concepto:</b></div>
              <div class="col-12 col-md-7 col-lg-8 itemValueCardPago" >
                <div>
                  Matrícula
                </div>
              </div>
            </ng-container>
            <div class="col-12 col-md-5 col-lg-4"><b>Fecha de transacción:</b></div>
            <div class="col-12 col-md-7 col-lg-8 itemValueCardPago">{{resultProceso.fechaTransaccion | date:'dd/MM/yyyy'}}
            </div>
            <div class="col-12 col-md-5 col-lg-4"><b>Hora de transacción:</b></div>
            <div class="col-12 col-md-7 col-lg-8 itemValueCardPago">{{resultProceso.fechaTransaccion | date:'hh:mm'}}</div>

          </div>
        </div>
        <!-- <app-default-button-flecha [confs]="{color:'primary',titulo:'Ir a mis cursos ahora'}" [style]="'margin-top:40px;padding: 0px 40px;border-radius:20px'"
            [ruta]="rutaMisCursos"></app-default-button-flecha> -->
        <div *ngIf="RutaCargada!=false" class="row mt-2" style="justify-content: center;text-align: center;">
          <div class="button-container-Pagos">
            <button [routerLink]="rutaPago" class="btn btn-primary m-2 responsive-button-Pagos">
              Ver estado de cuenta
            </button>

            <button  [routerLink]="rutaCursos" class="btn btn-primary m-2 responsive-button-Pagos">
              Ir a mi curso
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
