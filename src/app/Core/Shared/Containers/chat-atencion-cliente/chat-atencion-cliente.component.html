<!-- holax -->
<ng-container>
  <div  *ngIf="Open">
    <div class="cerrarChatAtc" (click)="Open=false;IsOpen.emit(false)">X</div>
  </div>
  <div  *ngIf="Open">
    <div class="cerrarChatAtc" (click)="Open=false;IsOpen.emit(false)">X</div>
  </div>
  <div style="display:flex"(click)="Open=true;IsOpen.emit(true)" *ngIf="!Open">
    <div class="chatAtc" >
      <div style="display: flex;" >
        <!-- <img class="puntoConectadoAtc" src="../../../../../assets/icons/punto-verde.svg" alt="Punto Verde" > -->
        <div class="col-4" style="align-items: center;display: flex;justify-content: center;">
          <img style="height: 40px;" [src]="'../../../../../assets/imagenes/icono-chat-atc.png'" alt="">
          <!-- <i class="material-icons" style="font-size: 40px !important;">sms</i> -->
        </div>
        <div class="col-8" style="font-size: 17px;line-height: 20px;text-align: left;">
          Atención al cliente
        </div>
      </div>
    </div>
    <div class="trianguloChatAtc">
    </div>
  </div>
  <div class="chatSTAtc" *ngIf="Open" style="box-shadow: 0px 1px 4px #838383;">
    <div class="cerrarChatMediaAtc" (click)="Open=false;IsOpen.emit(false)">X</div>
    <ng-container select="[contenidoChat]">
      <div class="headerChatAtc"*ngIf="Paso<=2">
        <div class="imgAsesorAtc">
          <img style="width: 4.5rem;height: 4.5rem;" [src]="'../../../../../assets/imagenes/Chat-Atc-Online.png'" alt="">
          <!-- <img style="width: 4.5rem;height: 4.5rem;" [src]="'../../../../../assets/imagenes/Chat-Atc-Offline.png'" alt=""> -->
          <div class="nombreAsesorAtc">
            <div>
              Atención al cliente
            </div>
            <div>
              BSG Institute
            </div>
          </div>
        </div>
      </div>
      <div class="headerChatAtc"*ngIf="Paso==3 && Caso=='B'">
        <div class="imgAsesorAtc">
          <img style="width: 4.5rem;height: 4.5rem;" [src]="'../../../../../assets/imagenes/Chat-Atc-Online.png'" alt="">
          <!-- <img style="width: 4.5rem;height: 4.5rem;" [src]="'../../../../../assets/imagenes/Chat-Atc-Offline.png'" alt=""> -->
          <div class="nombreAsesorAtc">
            <div>
              Atención al cliente
            </div>
            <div>
              BSG Institute
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="CargandoInformacion" style="display: flex;justify-content: center;">
        <mat-spinner></mat-spinner>
      </div>
      <div *ngIf="Paso==0 && CargandoInformacion==false" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <p><strong>¡Hola!</strong></p>
          <p>Te damos la bienvenida al chat de atención al cliente de BSG Institute.</p>
          <p>Para comenzar, selecciona una de las siguientes opciones:</p>
          <ul>
            <li (click)="OpcionAlumno(1,'A')" style="cursor:pointer"><a>Estoy interesado en los cursos</a></li>
            <li (click)="OpcionAlumno(1,'B')" style="cursor:pointer"><a>Soy alumno</a></li>
          </ul>
        </div>
      </div>
      <div *ngIf="Paso==1 && Caso=='A' && CargandoInformacion==false" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <div class="FlechaAtras no-select" (click)="RetrocederInicioA()">
            <i class="material-icons">arrow_back_ios</i>
            Atras
          </div>
          <p><strong>¡Hola!</strong></p>
          <p>Selecciona el área de capacitación de tu interés:</p>
          <ul>
            <li *ngFor="let area of AreasCapacitacion" (click)="ObtenerCursosIdArea(area)">
              <a style="cursor:pointer">{{ area.valor }}</a>
            </li>
          </ul>
        </div>
      </div>
      <div *ngIf="Paso==1 && Caso=='B' && CargandoInformacion==false" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <div class="FlechaAtras no-select" (click)="RetrocederInicioB()">
            <i class="material-icons">arrow_back_ios</i>
            Atras
          </div>
          <p>Ingresa a tu cuenta para revisar tus programas, cursos y certificaciones</p>
          <div class="container" style="justify-content: center;">
            <div class="col-12" >
              <div class="alert alert-danger" role="alert" *ngIf="errorLogin!=''">
                {{errorLogin}}
              </div>
              <app-formulario [model]="login" [InputsDisable]="statuscharge" (OnSubmit)="Login($event)" [Color]="'white'"
                (OnValid)="formVal=$event" [Interaccion]="'Login'" [fiels]="fileds" [ChargeValuesInit]="initValues">

                <ng-container contenido>
                  <div class="row" style="width: 100%;margin: 10px 0px;text-align: center;">
                    <div class="col-12 buttonnsHelp vinculo" (click)="RecuperarContrasenaPrevio()"> ¿Olvidaste tu contraseña?</div>
                  </div>
                </ng-container>
                <ng-container send>
                  <app-default-button [confs]="{color:'primary',titulo:'Iniciar sesión'}" [style]="'width: 100%;margin-bottom 0px;background:#FF4E55'"  ></app-default-button>
                </ng-container>

              </app-formulario>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="Paso==1  && Caso=='C' && CargandoInformacion==false" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <div *ngIf="BotonDesactivado" class="FlechaAtras no-select">
            <i class="material-icons">arrow_back_ios</i>
            Atras
          </div>
          <div *ngIf="BotonDesactivado==false" class="FlechaAtras no-select" (click)="RecuperarAtras()">
            <i class="material-icons">arrow_back_ios</i>
            Atras
          </div>
          <p>Ingresa tu correo electrónico para enviar tus credenciales</p>
          <div class="alert alert-danger" role="alert" *ngIf="errorLogin!=''">
            {{errorLogin}}
          </div>
          <app-formulario [Interaccion]="'Recuperar Contraseña'" [model]="email" [InputsDisable]="statuscharge" [CleanOnSubmit]="cleanSub" (OnSubmit)="RecuperarContrasena($event)" [Color]="'#f8f8f8'"
            (OnValid)="formVal=$event" [fiels]="fileds">
            <ng-container send>
              <app-default-button [confs]="{color:'danger',titulo:'Enviar correo'}" [style]="'width: 100%;'" [disabled]="!formVal || BotonDesactivado==true" ></app-default-button>
            </ng-container>

          </app-formulario>
        </div>
      </div>
      <div *ngIf="Paso==2 && Caso=='A' && CargandoInformacion==false" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <div class="FlechaAtras no-select" (click)="RetrocederAreaA()">
            <i class="material-icons">arrow_back_ios</i>
            Atras
          </div>
          <p><strong>¡Hola!</strong></p>
          <p>Selecciona el programa de capacitación de tu interés:</p>
          <p *ngIf="this.CursosPorArea.length==0">No hay cursos disponibles</p>
          <ul *ngIf="this.CursosPorArea.length>0">
            <li *ngFor="let cursoChat of CursosPorArea">
              <a style="cursor:pointer" (click)="RegistrarCursoSeleccionado(cursoChat)">{{ cursoChat.nombre }}</a>
            </li>
          </ul>
        </div>
      </div>
      <div *ngIf="Paso==2 && Caso=='B' && CargandoInformacion==false" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <p><strong>¡Hola!</strong></p>
          <p>Para continuar selecciona el curso sobre el que deseas realizar la consulta:</p>
          <ul>
            <li *ngFor="let curso of CursosPadreMatricula"
                (click)="CursoPadreHijoMatriculado(curso.idPGeneralPadre)"
                [ngClass]="{'expanded': selectedPadreIdMatricula === curso.idPGeneralPadre}">
              <a style="color: #2F98EE;cursor:pointer">{{ curso.nombrePGeneralPadre }}</a>
              <ul *ngIf="selectedPadreIdMatricula === curso.idPGeneralPadre" class="lista-interior">
                <li *ngFor="let hijo of getCursosHijo(curso.idPGeneralPadre)">
                  <a (click)="EnviarFormularioAtcAcademico(hijo)" style="color: #4A4A49;cursor:pointer" >{{ hijo.nombrePGeneralHijo }}</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
      <div *ngIf="Paso==3 && Caso=='B' && CargandoInformacion==false && AcademicoDirecto==false" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <p><strong>¿Con quién deseas comunicarte?</strong></p>
          <p>Para continuar selecciona la opción que mejor se ajusta para realizar tu consulta:</p>
          <ul>
            <li (click)="ActualizarEsSoporteTecnico(false)">
              <a style="cursor:pointer">Contactar con un Coordinador Académico</a>
            </li>
            <li (click)="ActualizarEsSoporteTecnico(true)">
              <a style="cursor:pointer">Tengo problemas técnicos en el aula virtual</a>
            </li>
          </ul>
        </div>
      </div>
      <div *ngIf="Paso==3 && Caso=='B' && CargandoInformacion==false && AcademicoDirecto" class="PrimeraInteraccionAtcFondo">
        <div class="PrimeraInteraccionAtc">
          <p><strong>¿Con quién deseas comunicarte?</strong></p>
          <p>Para continuar selecciona la opción que mejor se ajusta para realizar tu consulta:</p>
          <ul>
            <li (click)="RegistroDirectoCursoMatriculado(false)">
              <a style="cursor:pointer" >Contactar con un Coordinador Académico</a>
            </li>
            <li (click)="RegistroDirectoCursoMatriculado(true)">
              <a style="cursor:pointer" >Tengo problemas técnicos en el aula virtual</a>
            </li>
          </ul>
        </div>
      </div>
      <ng-container *ngIf="Paso==3 && Caso=='A'">
        <app-chat-atencion-cliente-chat [idProgramageneral]="IdProgramageneral" [IdPespecificoPrograma]="IdPespecificoPrograma"></app-chat-atencion-cliente-chat>
      </ng-container>
      <ng-container *ngIf="Paso==4 && Caso=='B' && ChatSoporteTecnico==false">
        <app-chat-atencion-cliente-academico [idProgramageneral]="IdProgramageneral" [IdMatriculaCabecera]="IdMatriculaCabecera"></app-chat-atencion-cliente-academico>
      </ng-container>
      <ng-container *ngIf="Paso==4 && Caso=='B' && ChatSoporteTecnico==true">
        <app-chat-atencion-cliente-soporte [idProgramageneral]="IdProgramageneral"></app-chat-atencion-cliente-soporte>
      </ng-container>
    </ng-container>

  </div>
</ng-container>
